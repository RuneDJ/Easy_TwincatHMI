# Visual Guide: Struct Auto-Scan Koncept

## FÃ¸r og Efter Sammenligning

### âŒ FÃ˜R: Manuel Konfiguration

```
PLC Kode:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VAR_GLOBAL                      â”‚
â”‚   Temperature_1.Value : REAL;   â”‚
â”‚   Temperature_1.Error : BOOL;   â”‚
â”‚   Pressure_1.Value : REAL;      â”‚
â”‚   Pressure_1.Error : BOOL;      â”‚
â”‚ END_VAR                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Manuel config
         â–¼
config.json:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ "process_values": [             â”‚
â”‚   {"name": "Temperature_1.Value"â”‚
â”‚    "unit": "Â°C", ...},          â”‚
â”‚   {"name": "Pressure_1.Value",  â”‚
â”‚    "unit": "bar", ...}          â”‚
â”‚ ],                              â”‚
â”‚ "alarms": [                     â”‚
â”‚   {"name": "Temperature_1.Error"â”‚
â”‚    "text": "...", ...}          â”‚
â”‚ ]                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âŒ Problem:
- Data duplication
- Manuel vedligeholdelse
- Fejlrisiko
- TidskrÃ¦vende
```

### âœ… EFTER: Struct Auto-Import

```
PLC Kode med Struct:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TYPE ST_Sensor :                â”‚
â”‚ STRUCT                          â”‚
â”‚   {attribute 'HMI_PV'}          â”‚
â”‚   Value : REAL;                 â”‚
â”‚   {attribute 'HMI_ALARM'}       â”‚
â”‚   Error : BOOL;                 â”‚
â”‚ END_STRUCT                      â”‚
â”‚                                 â”‚
â”‚ VAR_GLOBAL                      â”‚
â”‚   {attribute 'HMI_STRUCT'}      â”‚
â”‚   Temperature_1 : ST_Sensor;    â”‚
â”‚   {attribute 'HMI_STRUCT'}      â”‚
â”‚   Pressure_1 : ST_Sensor;       â”‚
â”‚ END_VAR                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Compile â†’ TMC fil
         â”‚
         â”‚ Auto-scan
         â–¼
config.json (auto-genereret):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ "manual_symbols": {             â”‚
â”‚   "symbols": {                  â”‚
â”‚     "Temperature_1.Value": {    â”‚
â”‚       "parent_struct": "...",   â”‚
â”‚       "category": "process_...", â”‚
â”‚       ...                       â”‚
â”‚     },                          â”‚
â”‚     "Temperature_1.Error": {    â”‚
â”‚       "parent_struct": "...",   â”‚
â”‚       ...                       â”‚
â”‚     },                          â”‚
â”‚     "Pressure_1.Value": {...},  â”‚
â”‚     "Pressure_1.Error": {...}   â”‚
â”‚   }                             â”‚
â”‚ }                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… Fordele:
- Ingen data duplication
- Automatisk opdatering
- Type-sikker
- Hurtig setup
```

## Workflow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PLC Udvikling   â”‚
â”‚                  â”‚
â”‚ 1. Definer       â”‚
â”‚    ST_Sensor     â”‚
â”‚                  â”‚
â”‚ 2. TilfÃ¸j HMI    â”‚
â”‚    attributer    â”‚
â”‚                  â”‚
â”‚ 3. Opret         â”‚
â”‚    instancer med â”‚
â”‚    HMI_STRUCT    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TwinCAT Compile  â”‚
â”‚                  â”‚
â”‚ F7 â†’ Genererer   â”‚
â”‚      PLC.tmc     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  HMI Application â”‚
â”‚                  â”‚
â”‚ 1. Connect       â”‚
â”‚                  â”‚
â”‚ 2. Click         â”‚
â”‚    "Scan PLC"    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Auto-Scanner    â”‚
â”‚                  â”‚
â”‚ 1. Parse TMC     â”‚
â”‚                  â”‚
â”‚ 2. Find structs  â”‚
â”‚    with HMI_     â”‚
â”‚    STRUCT        â”‚
â”‚                  â”‚
â”‚ 3. Ekspander     â”‚
â”‚    medlemmer     â”‚
â”‚                  â”‚
â”‚ 4. Filter HMI    â”‚
â”‚    tags          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Config Generator â”‚
â”‚                  â”‚
â”‚ Generer entries  â”‚
â”‚ for hver medlem  â”‚
â”‚ med full path    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   GUI Builder    â”‚
â”‚                  â”‚
â”‚ Opret grupperede â”‚
â”‚ widgets for      â”‚
â”‚ struct medlemmer â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   HMI Display    â”‚
â”‚                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Temperature_1â”‚ â”‚
â”‚ â”‚  â””â”€Value     â”‚ â”‚
â”‚ â”‚  â””â”€Error     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Pressure_1   â”‚ â”‚
â”‚ â”‚  â””â”€Value     â”‚ â”‚
â”‚ â”‚  â””â”€Error     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Struct Expansion Eksempel

### Input: PLC Symbol med Struct Type

```
Symbol Information:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name: GVL.Temperature_Sensor_1 â”‚
â”‚ Type: ST_AnalogInput           â”‚
â”‚ Attributes: [HMI_STRUCT]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Struct Definition (fra TMC)

```
ST_AnalogInput:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Members:                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Value : REAL                â”‚ â”‚
â”‚ â”‚   HMI_PV âœ…                 â”‚ â”‚
â”‚ â”‚   Unit = 'Â°C'               â”‚ â”‚
â”‚ â”‚   Decimals = 2              â”‚ â”‚
â”‚ â”‚   AlarmHigh = 90            â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Scaled : REAL               â”‚ â”‚
â”‚ â”‚   HMI_PV âœ…                 â”‚ â”‚
â”‚ â”‚   Unit = '%'                â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Error : BOOL                â”‚ â”‚
â”‚ â”‚   HMI_ALARM âœ…              â”‚ â”‚
â”‚ â”‚   AlarmText = 'Sensor Fejl' â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ RawValue : INT              â”‚ â”‚
â”‚ â”‚   (ingen HMI attribut) âŒ   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Output: Ekspanderede Medlemmer

```
Auto-Scan Resultat:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Temperature_Sensor_1.Value                 â”‚
â”‚    Path: GVL.Temperature_Sensor_1.Value       â”‚
â”‚    Category: process_value                    â”‚
â”‚    Unit: Â°C                                   â”‚
â”‚    Decimals: 2                                â”‚
â”‚    Alarm High: 90                             â”‚
â”‚    Parent: GVL.Temperature_Sensor_1           â”‚
â”‚    Struct Type: ST_AnalogInput                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… Temperature_Sensor_1.Scaled                â”‚
â”‚    Path: GVL.Temperature_Sensor_1.Scaled      â”‚
â”‚    Category: process_value                    â”‚
â”‚    Unit: %                                    â”‚
â”‚    Decimals: 1                                â”‚
â”‚    Parent: GVL.Temperature_Sensor_1           â”‚
â”‚    Struct Type: ST_AnalogInput                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… Temperature_Sensor_1.Error                 â”‚
â”‚    Path: GVL.Temperature_Sensor_1.Error       â”‚
â”‚    Category: alarm                            â”‚
â”‚    Alarm Text: Sensor Fejl                    â”‚
â”‚    Priority: 2                                â”‚
â”‚    Parent: GVL.Temperature_Sensor_1           â”‚
â”‚    Struct Type: ST_AnalogInput                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âŒ Temperature_Sensor_1.RawValue (skipped)    â”‚
â”‚    Reason: Ingen HMI attribut                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## GUI Layout Koncept

### FÃ¸r: Flad Liste

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Process Values                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Temperature_Sensor_1.Value: 23Â°Câ”‚
â”‚ Temperature_Sensor_1.Scaled: 46%â”‚
â”‚ Pressure_Sensor_1.Value: 5.2 barâ”‚
â”‚ Pressure_Sensor_1.Scaled: 52%   â”‚
â”‚ Flow_Sensor_1.Value: 100 L/min  â”‚
â”‚ Flow_Sensor_1.Scaled: 50%       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âŒ Problem: SvÃ¦rt at se sammenhÃ¦ng
```

### Efter: Grupperet Hierarki

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Process Values                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¼ Temperature_Sensor_1          â”‚
â”‚   â”œâ”€ Value:   23.45 Â°C          â”‚
â”‚   â””â”€ Scaled:  46.9 %            â”‚
â”‚                                 â”‚
â”‚ â–¼ Pressure_Sensor_1             â”‚
â”‚   â”œâ”€ Value:   5.23 bar          â”‚
â”‚   â””â”€ Scaled:  52.3 %            â”‚
â”‚                                 â”‚
â”‚ â–¼ Flow_Sensor_1                 â”‚
â”‚   â”œâ”€ Value:   100.2 L/min       â”‚
â”‚   â””â”€ Scaled:  50.1 %            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… Fordel: Klar struktur og sammenhÃ¦ng
```

## Nested Struct Eksempel

### PLC Definition

```
TYPE ST_PID :
STRUCT
    {attribute 'HMI_SP'}
    Kp : REAL;
    {attribute 'HMI_SP'}
    Ki : REAL;
    {attribute 'HMI_SP'}
    Kd : REAL;
END_STRUCT

TYPE ST_Controller :
STRUCT
    {attribute 'HMI_SP'}
    Setpoint : REAL;
    {attribute 'HMI_PV'}
    ProcessValue : REAL;
    PID : ST_PID;  â† Nested struct
END_STRUCT

VAR_GLOBAL
    {attribute 'HMI_STRUCT'}
    TempController : ST_Controller;
END_VAR
```

### Expansion Result

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TempController                    â”‚
â”‚                                   â”‚
â”‚ Level 1 (ST_Controller):          â”‚
â”‚   âœ… TempController.Setpoint      â”‚
â”‚   âœ… TempController.ProcessValue  â”‚
â”‚                                   â”‚
â”‚ Level 2 (ST_PID nested):          â”‚
â”‚   âœ… TempController.PID.Kp        â”‚
â”‚   âœ… TempController.PID.Ki        â”‚
â”‚   âœ… TempController.PID.Kd        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### GUI Display (Nested)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Setpoints                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¼ TempController                â”‚
â”‚   â”œâ”€ Setpoint:    25.0 Â°C       â”‚
â”‚   â””â”€ PID                        â”‚
â”‚      â”œâ”€ Kp:       1.50          â”‚
â”‚      â”œâ”€ Ki:       0.10          â”‚
â”‚      â””â”€ Kd:       0.05          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Array of Structs Eksempel

### PLC Definition

```
VAR_GLOBAL
    {attribute 'HMI_STRUCT_ARRAY'}
    Tanks : ARRAY[1..3] OF ST_Tank;
END_VAR
```

### Expansion Result

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Auto-expanded:               â”‚
â”‚                              â”‚
â”‚ âœ… Tanks[1].Level            â”‚
â”‚ âœ… Tanks[1].OverflowAlarm    â”‚
â”‚                              â”‚
â”‚ âœ… Tanks[2].Level            â”‚
â”‚ âœ… Tanks[2].OverflowAlarm    â”‚
â”‚                              â”‚
â”‚ âœ… Tanks[3].Level            â”‚
â”‚ âœ… Tanks[3].OverflowAlarm    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### GUI Display (Array)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Process Values                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¼ Tank 1                        â”‚
â”‚   â”œâ”€ Level:         45.2 %      â”‚
â”‚   â””â”€ OverflowAlarm: âš ï¸ Active   â”‚
â”‚                                 â”‚
â”‚ â–¼ Tank 2                        â”‚
â”‚   â”œâ”€ Level:         78.5 %      â”‚
â”‚   â””â”€ OverflowAlarm: âœ“ OK        â”‚
â”‚                                 â”‚
â”‚ â–¼ Tank 3                        â”‚
â”‚   â”œâ”€ Level:         23.1 %      â”‚
â”‚   â””â”€ OverflowAlarm: âœ“ OK        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Implementation Stack

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       GUI Display Layer         â”‚
â”‚  (gui_panels.py)                â”‚
â”‚  - Grouped widgets              â”‚
â”‚  - Visual hierarchy             â”‚
â”‚  - Collapse/expand              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Symbol Parser Layer          â”‚
â”‚  (ads_symbol_parser.py)         â”‚
â”‚  - Parse member paths           â”‚
â”‚  - Categorize members           â”‚
â”‚  - Generate display names       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Config Generator Layer        â”‚
â”‚  (symbol_auto_config.py)        â”‚
â”‚  - Expand structs               â”‚
â”‚  - Filter HMI members           â”‚
â”‚  - Generate config entries      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      TMC Parser Layer           â”‚
â”‚  (tmc_parser.py)                â”‚
â”‚  - Parse struct definitions     â”‚
â”‚  - Extract member attributes    â”‚
â”‚  - Find HMI_STRUCT symbols      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ADS Layer                â”‚
â”‚  (ads_client.py)                â”‚
â”‚  - Read PLC symbols             â”‚
â”‚  - Access struct members        â”‚
â”‚  - Type information             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       TwinCAT PLC               â”‚
â”‚  - Struct definitions (DUT)     â”‚
â”‚  - Symbol instances             â”‚
â”‚  - TMC metadata file            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Success Metrics

### MÃ¥lbare Forbedringer

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Metric             â”‚ FÃ¸r      â”‚ Efter    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Config tid         â”‚ 30 min   â”‚ 2 min    â”‚
â”‚ (20 sensorer)      â”‚          â”‚          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Fejlrisiko         â”‚ HÃ¸j      â”‚ Minimal  â”‚
â”‚                    â”‚          â”‚          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Vedligeholdelse    â”‚ Manuel   â”‚ Auto     â”‚
â”‚                    â”‚          â”‚          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Skalerbarhed       â”‚ LineÃ¦r   â”‚ Constant â”‚
â”‚ (tid per sensor)   â”‚          â”‚          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Type sikkerhed     â”‚ Ingen    â”‚ PLC      â”‚
â”‚                    â”‚          â”‚ compiler â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Use Cases

### Use Case 1: Ny Sensor
```
UDEN struct auto-import:
1. TilfÃ¸j sensor i PLC â”€â”€â”€â”€â”€â”€â”€â”€â–º 5 min
2. Compile PLC â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 1 min
3. Manuel config.json update â”€â–º 10 min
4. Test i HMI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 5 min
                    Total: 21 min â±ï¸

MED struct auto-import:
1. TilfÃ¸j sensor i PLC â”€â”€â”€â”€â”€â”€â”€â”€â–º 5 min
   {attribute 'HMI_STRUCT'}
   NewSensor : ST_AnalogInput;
2. Compile PLC â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 1 min
3. Scan PLC i HMI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 10 sek
4. Test i HMI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 2 min
                    Total: 8 min â±ï¸

ğŸ’¾ Spar: 13 minutter per sensor!
```

### Use Case 2: Struct Update
```
UDEN struct auto-import:
1. TilfÃ¸j nyt medlem i PLC â”€â”€â”€â–º 2 min
2. Compile â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 1 min
3. Find alle instancer â”€â”€â”€â”€â”€â”€â”€â–º 5 min
4. Update config for hver â”€â”€â”€â”€â–º 15 min
   (10 instancer Ã— 1.5 min)
                    Total: 23 min â±ï¸

MED struct auto-import:
1. TilfÃ¸j nyt medlem i PLC â”€â”€â”€â–º 2 min
   Med HMI attribut
2. Compile â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 1 min
3. Scan PLC i HMI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 10 sek
                    Total: 3 min â±ï¸

ğŸ’¾ Spar: 20 minutter ved struct update!
```

## Konklusion

### NÃ¸gle Fordele
```
âœ… Automatisering
   â””â”€ Manuel config â†’ Auto-generering

âœ… Type Sikkerhed
   â””â”€ PLC compiler validation

âœ… Skalerbarhed
   â””â”€ 1 struct â†’ Mange instancer

âœ… Vedligeholdelse
   â””â”€ Ã†ndring Ã©t sted â†’ Alle opdateret

âœ… Organisering
   â””â”€ Grupperet visning i GUI

âœ… Tidsbesparelse
   â””â”€ 13-20 min per sensor/update
```

### HvornÃ¥r Bruges Det?

```
âœ… BRUG struct auto-import nÃ¥r:
   - Mange ens sensorer/enheder
   - Standardiserede datastrukturer
   - Gentagne mÃ¸nstre
   - Team udvikling (konsistens)

âš ï¸ UNDGÃ… hvis:
   - Unikke, ikke-gentagende symboler
   - Legacy system uden TMC
   - Meget simple projekter (< 5 symboler)
```
